# 某个后端

本项目使用gin框架进行编写,初次部署使用可能需要使用`go mod download`下载部分依赖  
所实现的功能为一个点菜系统,包括了
- 商户开店/上菜/对订单操作
- 用户点菜/评分/查阅菜品
- 管理员强制开关店/查看所有店铺信息  

等功能
 
## 快速启动

首先启动mysql服务,然后

```
go run .
```

## 负责人

### 唐雨萧   

负责了rest部分api实现,与model文件编写,以及对错误的校验

### 杨斯涵   

负责了user部分的api实现,middleware部分的编写

### 曾斯奇  

负责了food部分api实现,api文档编写,以及api调试验证

## API

监听端口号为8088,具体api请参阅根目录下的[api.md](api.md)
根目录下还存在一个`tenzor_go.postman_collection.json`的文件,可以导入postman中方便直接对api进行操作

## 数据库

数据库端口号为`3306`,名称为`anago`.用户名`root`,密码`123456`  
~~麻烦本地自己建一个数据库谢谢记得打开连接~~

## 环境变量

在`config/config.go`中使用了默认配置,并没有使用专门的文件进行规定  
摸了,在windows下开发的,没有测试linux下的环境

## 日志

在生产模式下，日志会输出到 `log` 目录下

## 测试

可以将根目录下的[json](anago.postman_collection.json)文件导入到postman中进行使用  
session过期时间设置为了1000s,可以在`main.go`中进行修改


## TODO

1. ~~几乎绝大~~部分地方没有对传入的参数进行校验
2. 有一个闭店的参数,但没有做具体的实现
3. 修改菜品时只要修改了`name/cost/foodless`都会导致订单被全部删除(不论是否结单或者还满足吃的人数~~主要是不想改~~)
4. 很多bug没有进行大量测试,代码规范也没有很严格要求
5. 修改用户为管理员,只需要在user表中将status改成1就好了,可以设计个api~~但我不是很想~~