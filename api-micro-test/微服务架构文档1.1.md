### 1. 代码运行
> 从登陆git.ana访问到源码之后正确运行代码的步骤，以使用[Visual Studio Code](https://code.visualstudio.com/)进行开发为例
+ #### 安装Go
    + 请根据`go.mod`中指定的go版本安装（版本号不固定）

        ```shell
        $ go version
        go version go1.15.5 linux/amd64
        ```

    + 确认安装完成后配置环境变量

        ```shell
        $ go env -w GO111MODULE=on //配置开启gomod
        $ go env -w GOPROXY=https://goproxy.cn,direct //配置使用代理，此配置仅限于中国大陆加速
        $ go env -w GOPRIVATE=git.ana // 注意，此项为配置为GoMod私有仓库，更换其他社团或组织项目时要注意更换
        $ go env -w GOINSECURE= git.ana //配置不加密访问
        ```

    + VSCode使用gopls等扩展提供Go开发支持。首先安装`Go`扩展，然后打开任意`.go`源文件，VSCode将提示“缺少分析工具”，根据提示安装所有分析工具即可。若上一步的`GOPROXY`环境变量设置不成功，本步骤可能由于网络原因失败，请自行排除错误，直到所有的分析工具都安装成功。
    + 若是电脑已安装Go语言，使用如下命令安装相关依赖 
        ``` shell
        $ go mod download
        ```
+ ### 调试

    + 生成配置文件并配置（每个项目中不一样，一般是在主目录下以toml结尾且含有example的文件，一般默认操作是直接复制该文件并删去example）

    + 填写相关配置后运行项目（不同项目修改内容不同，需要提前询问PM）。

        + 点击“运行”->启动调试（F5）或者以非调试模式运行（Ctrl+F5），观察终端日志输出，自行排除错误。
        + 或者使用如下命令（注意命令运行时所处文件夹位置是否正确）
            ``` shell
            $ go run cmd/server/main.go
            ```
    + 项目启动之后检测相关的功能每个项目组不尽相同，详细联系PM
### 2. 项目代码结构
> 简单描述微服务文件夹整体架构（简述各项目文件作用)
- 代码结构如下（不是项目的全部文件结构；后续待完善）
    - dto(将输入数据转换成可存入数据或者取出数据库中数据后转化可输出数据)
        - 服务器对外接口 JSON API
        - 服务器对内接口 JSON API/gRPC
        - 其他dto
    - dao（持久化数据绑定，从数据库中存取数据具体操作）
    - service(业务逻辑)
- 项目main.go函数位于cmd/server下，从这里可以看到项目所启动的服务
    - 一般情况下，我们会看到它启动了config，http以及service
    - config（一般不用理睬）:
        - 项目的配置文件初始化
    - http:
        - http.go中包含该项目的所有路径定义及其反馈函数，其它默认定义可不理睬
        - 文件夹下其它文件用于对于输入输出数据的检测（定义路径的返回数据）
    - service：
        - service.go与errror.go文件不用理睬
        - 用于定义该项目内部逻辑的操作
            - 对数据库的抽象操作，具体对数据库的操作见于dao文件
            - 项目对请求或者返回的数据进行判断、运算等处理
            - 对于其他请求的逻辑处理（具体代码具体分析）
    - 对于dao以及dto文件：
        - 可以参考git.ana其他项目的文件
        - dao 文件中dao.go是初始化DAO,其他文件是对于数据库的具体操作，具体的代码可以百度go语言对数据库的CURD(增删改查四个基本操作以及其组合），也可以参考其他代码
        - dto 
            - X.go:用于绑定数据，将利用dao从数据库中取出的数据处理成可以被项目服务正确使用的数据结构
            - X.pb.go: protobuf自动生成的文件，无视
            - X.proto：grpc接口描述文件，语法自行搜索（项目中会自带相关代码，不理解可以复制然后修改【临摹】）
            - X_grpc.pb.gp ：自动生成的文件，无视
### 3. 代码规范（待补充）
> 变量以及函数名命名规范
### 4. 开发操作
> 描述从拿到代码到正式开发的流程
1. 阅读文件ReadMe.md,首先要知道项目的功能、作用
2. 询问PM或者阅读项目工作任务书以明确自己的任务
3. 从git.ana仓库拉取项目代码
    + 访问git.ana参考【猪都能学会的访问方法By杨斯函】
    + git clone + 地址将文件拉取到本地
3. 依照README.md中操作在本地配置相关环境，要求能在本地正常运行
3. 阅读项目中已存在（完善）的功能以明确功能构成以及运行方式
    - 从main.go开始，之后阅读service以及http,在之后为dto与dao
    - 浏览之后依照PM要求在相应目录下新建文件或者在某文件下创建自己函数
    - 其他的文件可以暂时不用管（项目运行出问题debug时再了解）
4. 功能测试
5. 本机调试无误后上传git.ana
    + **注意，再上传之前请及时更新本地仓库，拉取仓库后，要现在本地合并并且确保可以在本地正常运行之后再上传**
    + git 上传文件的方法请自行百度
    + 注意使用个人分支，避免随意修改主分支（自行百度git branch获取详情）